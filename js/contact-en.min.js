$(function() {
    var t = {
        errMail: "Please, insert a valid e-mail address.",
        errText: "Please, insert a message.",
        ok: "Message sent successfully!",
        mailFail: "Error while sending the message :(<br/>Please, try again.",
        captchaFail: "Please, verify that you are not a robot."
    }
      , a = $("div#contact-form form").on("submit", function(e) {
        e.preventDefault();
        var n = new FormData(a[0])
          , i = a.find("button")
          , r = i.text();
        i.text("Sending...");
        var s = a.find("input, button, textarea").each(function() {
            $(this).attr("disabled", "disabled")
        })
          , o = function(e) {
            var n = t[e] ? t[e] : t.mailFail;
            a.parent().find("div.contact-msg").remove(),
            a.after($("<div />").addClass("contact-msg").text(n).css("color", "#fff"))
        };
        $.ajax({
            type: "POST",
            url: "php/sendMail.php",
            processData: !1,
            contentType: !1,
            data: n,
            dataType: "text",
            complete: function() {
                s.each(function() {
                    $(this).removeAttr("disabled")
                }),
                i.text(r)
            },
            error: function() {
                o()
            },
            success: function(t) {
                o(t),
                "ok" == t && a.find("input, textarea").each(function() {
                    $(this).val("")
                }),
                "ok" != t && "captchaFail" != t && "mailFail" != t || grecaptcha.reset()
            }
        })
    })
});
